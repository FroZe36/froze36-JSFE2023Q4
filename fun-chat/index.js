(()=>{"use strict";var e={383:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(601),o=n.n(s),a=n(314),i=n.n(a)()(o());i.push([e.id,".modal {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n  padding: 30px;\n  .modal__wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    gap: 10px;\n    background-color: rgba(243, 242, 242, 0.4);\n    padding: 30px;\n    border-radius: 8px;\n  }\n  .modal__text {\n    color: chartreuse;\n    text-align: center;\n    font-size: 50px;\n  }\n  .modal__button-close {\n    background-color: orange;\n    border-radius: 8px;\n    padding: 5px 15px;\n    font-size: 20px;\n  }\n}\n",""]);const r=i},363:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(601),o=n.n(s),a=n(314),i=n.n(a)()(o());i.push([e.id,".about-page {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  border: 1px solid black;\n  padding: 25px;\n  background-color: rgba(0, 0, 0, 0.98);\n  border-radius: 8px;\n  .about-page__title {\n    color: gold;\n    font-size: clamp(1.1rem, 1.1vw, 2.2rem);\n  }\n  .about-page__text {\n    color: gold;\n    font-size: clamp(0.8rem, 1vw, 1.8rem);\n  }\n  .about-page-wrapper {\n    font-size: 20px;\n    display: inline-flex;\n    text-align: center;\n    gap: 10px;\n    color: chartreuse;\n    .about-page__name {\n      position: relative;\n      padding-bottom: 2px;\n      width: 100%;\n      &::before {\n        position: absolute;\n        content: '';\n        width: 0;\n        right: 0;\n        bottom: 0;\n        height: 3px;\n        background-color: #27ae60;\n        transition: width ease-in-out 1s;\n      }\n      &:hover::before {\n        width: 100%;\n        left: 0;\n        background-color: #27ae60;\n        transition: width ease-in-out 1s;\n      }\n    }\n  }\n  .about-page__button {\n    padding: 10px 15px;\n    font-size: 20px;\n    border-radius: 8px;\n    transform: scale(1);\n    background-color: rgb(59, 247, 122);\n    transition: scale 0.2s;\n    &:hover {\n      transform: scale(0.95);\n    }\n    &[disabled] {\n      cursor: not-allowed;\n      opacity: 0.8;\n      &:hover {\n        transform: none;\n      }\n    }\n  }\n}\n",""]);const r=i},231:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(601),o=n.n(s),a=n(314),i=n.n(a)()(o());i.push([e.id,".auth-page {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 1px solid black;\n  border-radius: 8px;\n  padding: 20px;\n  .auth-page__form {\n    display: flex;\n    flex-direction: column;\n    padding: 15px;\n    gap: 3px;\n    .auth__page-container {\n      display: flex;\n      flex-direction: column;\n      gap: 3px;\n      height: 57px;\n      .error {\n        font-size: 9px;\n        align-self: flex-end;\n        color: red;\n      }\n    }\n    label {\n      display: flex;\n      justify-content: space-between;\n      gap: 15px;\n      font-size: 18px;\n      align-items: baseline;\n      input {\n        padding: 5px;\n      }\n    }\n    label:last-of-type {\n      margin-bottom: 10px;\n    }\n    .auth-page__btn_submit {\n      align-self: center;\n    }\n  }\n  .auth-page__btn {\n    padding: 10px 15px;\n    border-radius: 8px;\n    width: 70%;\n    font-size: 20px;\n    transform: scale(1);\n    background-color: rgb(59, 247, 122);\n    transition: scale 0.2s;\n    &:hover {\n      transform: scale(0.95);\n    }\n    &[disabled] {\n      cursor: not-allowed;\n      opacity: 0.8;\n      &:hover {\n        transform: none;\n      }\n    }\n  }\n}\n",""]);const r=i},823:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(601),o=n.n(s),a=n(314),i=n.n(a)()(o());i.push([e.id,".chat {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100svh;\n  gap: 10px;\n  .chat__header.header {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border: 1px solid black;\n    border-radius: 8px;\n    padding: 10px 20px;\n    .header__user-name {\n      font-size: clamp(1rem, 2vw, 2.2rem);\n    }\n    .header__title {\n      font-size: clamp(1rem, 2vw, 2.2rem);\n      color: orange;\n    }\n    .header__wrapper {\n      display: inline-flex;\n      gap: 10px;\n    }\n    .header__btn {\n      padding: 10px 15px;\n      border-radius: 8px;\n      transform: scale(1);\n      background-color: rgb(59, 247, 122);\n      transition: scale 0.2s;\n      font-size: clamp(1rem, 2vw, 1.4rem);\n      &:hover {\n        transform: scale(0.95);\n      }\n      &[disabled] {\n        cursor: not-allowed;\n        opacity: 0.8;\n        &:hover {\n          transform: none;\n        }\n      }\n    }\n  }\n  .wrapper {\n    display: flex;\n    width: 100%;\n    height: 70%;\n    gap: 10px;\n    .chat__users.users {\n      display: flex;\n      flex-direction: column;\n      border-radius: 8px;\n      border: 1px solid black;\n      width: 30%;\n      padding: 10px;\n      .users__search-input {\n        font-size: clamp(0.7rem, 2vw, 1.4rem);\n        padding: 5px 10px;\n        margin-bottom: 5px;\n      }\n\n      .users__list {\n        display: flex;\n        flex-direction: column;\n        overflow-y: scroll;\n        height: 100%;\n        list-style-type: disc;\n        list-style-position: inside;\n\n        li.users__list-element {\n          align-items: center;\n          padding: 1% 5%;\n          cursor: pointer;\n          font-size: clamp(0.8rem, 2vw, 1.4rem);\n          margin-right: 5px;\n          width: 100%;\n          white-space: nowrap;\n          &::marker {\n            font-size: clamp(1rem, 2vw, 1.4rem);\n          }\n          &:hover {\n            background-color: bisque;\n          }\n          &.users__list-element_inactive::marker {\n            color: red;\n          }\n          &.users__list-element_active::marker {\n            color: green;\n          }\n        }\n      }\n    }\n    .chat__dialog-container.dialog-container {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n      width: 70%;\n      padding: 10px;\n      border-radius: 8px;\n      border: 1px solid black;\n      .dialog-container__header {\n        align-self: center;\n        height: 39px;\n        display: inline-flex;\n        margin: 0px 20px;\n        padding: 5px;\n        justify-content: space-around;\n        width: 100%;\n        font-size: clamp(1rem, 2vw, 1.4rem);\n        border-bottom: 1px solid black;\n        .dialog-container__recipient-name {\n        }\n        li.dialog-container__recipient-status {\n          &::marker {\n            font-size: clamp(1rem, 2vw, 1.4rem);\n          }\n          &.active::marker {\n            color: green;\n          }\n          &.inactive::marker {\n            color: red;\n          }\n        }\n      }\n      .dialog-container__content {\n        flex: 1 1 auto;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        border-bottom: 1px solid black;\n        overflow-y: scroll;\n        font-size: clamp(0.8rem, 1vw, 1.4rem);\n        .new-message-separator {\n          margin: 0px 0px 8px 0px;\n          position: relative;\n          width: 100%;\n          text-align: center;\n          span {\n            background: #fff;\n            padding: 0 5%;\n            position: relative;\n          }\n          &::before {\n            border-bottom: 1px solid black;\n            content: '';\n            left: 0px;\n            position: absolute;\n            top: 8px;\n            width: 100%;\n          }\n        }\n        .message {\n          width: 45%;\n          border-radius: 8px;\n          padding: 1%;\n          gap: 3px;\n          margin-bottom: 8px;\n          display: flex;\n          flex-direction: column;\n          background-color: grey;\n          .message-header {\n            display: inline-flex;\n            justify-content: space-between;\n            margin: 0px 5px;\n            .message-header__user {\n            }\n            .message-header__date {\n            }\n          }\n          .message__text {\n            background-color: gold;\n            padding: 5px;\n            border-radius: 8px;\n          }\n          .message__state {\n            align-self: flex-end;\n            margin: 0px 5px;\n          }\n        }\n      }\n      .dialog-container__form {\n        display: inline-flex;\n        gap: 20px;\n        .dialog-container__message-input {\n          width: 100%;\n          padding: 5px 10px;\n          font-size: clamp(0.7rem, 2vw, 1.4rem);\n          &[disabled] {\n            cursor: not-allowed;\n            opacity: 0.8;\n          }\n        }\n        .dialog-container__button-send {\n          padding: 10px 15px;\n          border-radius: 8px;\n          transform: scale(1);\n          background-color: rgb(59, 247, 122);\n          font-size: clamp(1rem, 1vw, 1.4rem);\n          transition: scale 0.2s;\n          &:hover {\n            transform: scale(0.95);\n          }\n          &[disabled] {\n            cursor: not-allowed;\n            opacity: 0.8;\n            &:hover {\n              transform: none;\n            }\n          }\n        }\n      }\n    }\n  }\n  .chat__footer.footer {\n    width: 100%;\n    font-size: clamp(1rem, 2vw, 1.8rem);\n    padding: 10px 20px;\n    border-radius: 8px;\n    border: 1px solid black;\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    .footer__logo {\n      display: flex;\n    }\n    .footer__name {\n    }\n    .footer__year {\n    }\n  }\n}\n\n@media (max-width: 800px) {\n  .message-header {\n    flex-direction: column;\n    gap: 3px;\n  }\n}\n\n@media (max-width: 500px) {\n  .chat {\n    .chat__header.header {\n      padding: 10px 5px;\n      .header__btn {\n        padding: 7px;\n      }\n    }\n    .wrapper {\n      .chat__users.users {\n        padding: 5px;\n      }\n    }\n  }\n}\n",""]);const r=i},208:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(601),o=n.n(s),a=n(314),i=n.n(a)()(o());i.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  scrollbar-width: thin;\n}\nhtml {\n  position: relative;\n  box-sizing: border-box;\n}\n*,\n*::before,\n*::after {\n  box-sizing: inherit;\n}\nbody {\n  min-width: 320px;\n  min-height: 100vh;\n  font-family: Arial, sans-serif;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n}\nbutton {\n  padding: 0;\n  cursor: pointer;\n  border: none;\n}\na {\n  text-decoration: none;\n  color: inherit;\n}\nul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nfigure,\nfieldset {\n  margin: 0;\n}\n.root {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n}\n.container {\n  max-width: 1440px;\n  padding: 0px 20px;\n  margin: 0 auto;\n}\n\n@media (max-width: 500px) {\n  .container {\n    padding: 0 10px;\n  }\n}\n",""]);const r=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(s)for(var r=0;r<this.length;r++){var d=this[r][0];null!=d&&(i[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);s&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},702:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(72),o=n.n(s),a=n(825),i=n.n(a),r=n(659),d=n.n(r),l=n(56),c=n.n(l),p=n(540),h=n.n(p),u=n(113),g=n.n(u),m=n(383),b={};b.styleTagTransform=g(),b.setAttributes=c(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),o()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},500:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(72),o=n.n(s),a=n(825),i=n.n(a),r=n(659),d=n.n(r),l=n(56),c=n.n(l),p=n(540),h=n.n(p),u=n(113),g=n.n(u),m=n(363),b={};b.styleTagTransform=g(),b.setAttributes=c(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),o()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},112:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(72),o=n.n(s),a=n(825),i=n.n(a),r=n(659),d=n.n(r),l=n(56),c=n.n(l),p=n(540),h=n.n(p),u=n(113),g=n.n(u),m=n(231),b={};b.styleTagTransform=g(),b.setAttributes=c(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),o()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},588:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(72),o=n.n(s),a=n(825),i=n.n(a),r=n(659),d=n.n(r),l=n(56),c=n.n(l),p=n(540),h=n.n(p),u=n(113),g=n.n(u),m=n(823),b={};b.styleTagTransform=g(),b.setAttributes=c(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),o()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},511:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(72),o=n.n(s),a=n(825),i=n.n(a),r=n(659),d=n.n(r),l=n(56),c=n.n(l),p=n(540),h=n.n(p),u=n(113),g=n.n(u),m=n(208),b={};b.styleTagTransform=g(),b.setAttributes=c(),b.insert=d().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),o()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},72:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var a={},i=[],r=0;r<e.length;r++){var d=e[r],l=s.base?d[0]+s.base:d[0],c=a[l]||0,p="".concat(l," ").concat(c);a[l]=c+1;var h=n(p),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var g=o(u,s);s.byIndex=r,t.splice(r,0,{identifier:p,updater:g,references:1})}i.push(p)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=s(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var r=n(a[i]);t[r].references--}for(var d=s(e,o),l=0;l<a.length;l++){var c=n(a[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=d}}},659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,o&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},300:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.socket=void 0;const s=n(910);t.socket=new class{constructor(){this.onError=e=>{console.error("error",e)},this.socket=new WebSocket("ws://127.0.0.1:4000"),this.socket.onopen=()=>{console.log("WebSocket connection established.")},this.socket.addEventListener("error",this.onError.bind(this)),this.socket.addEventListener("message",this.onMessage.bind(this))}onMessage(e){const t=JSON.parse(e.data);if("USER_LOGIN"===t.type){const e=t;s.eventEmitter.emit("auth/logIn",e)}if("USER_LOGOUT"===t.type){const e=t;s.eventEmitter.emit("auth/logOut",e)}if("USER_ACTIVE"===t.type){const e=t;s.eventEmitter.emit("get/UserActive",e)}if("USER_INACTIVE"===t.type){const e=t;s.eventEmitter.emit("get/UserInActive",e)}if("USER_EXTERNAL_LOGIN"===t.type){const e=t;s.eventEmitter.emit("server/UserLogIn",e)}if("USER_EXTERNAL_LOGOUT"===t.type){const e=t;s.eventEmitter.emit("server/UserLogOut",e)}if("MSG_SEND"===t.type){const e=t;s.eventEmitter.emit("send/MessageTo",e)}if("MSG_FROM_USER"===t.type){const e=t;s.eventEmitter.emit("history/UserMessages",e)}if("ERROR"===t.type){const e=t;s.eventEmitter.emit("error",e)}}sendMsg(e){this.socket.send(JSON.stringify(e))}}},910:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=void 0,t.eventEmitter=new class{constructor(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}emit(e,...t){const n=this.events[e];n&&n.forEach((e=>{e(...t)}))}off(e,t){const n=this.events[e];n&&(this.events[e]=n.filter((e=>e!==t)))}}},393:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const s=n(804);class o extends s.View{constructor({parentElement:e,content:t,classes:n=[]}){super({tagName:"button",classes:n,content:t,parentElement:e}),this.button=this.node}}t.Button=o},817:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,t.Input=class{constructor({parentElement:e,tagName:t="input",type:n="text",classes:s=[],content:o=""}){const a=document.createElement(t);a.type=n,a.classList.add(...s),a.innerHTML=o,this.parentNode=e,this.node=a}}},990:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;const s=n(393),o=n(804);n(702);class a extends o.View{constructor(e){super({classes:["modal"]}),this.wrapper=new o.View({classes:["modal__wrapper"]}),this.message=new o.View({content:e,classes:["modal__text"]}),this.buttonCloseModal=new s.Button({classes:["modal__button-close"],content:"OK!"}),this.wrapper.node.append(this.message.node,this.buttonCloseModal.button),this.node.append(this.wrapper.node)}render(){document.body.append(this.node),this.buttonCloseModal.button.onclick=()=>this.closeModal()}closeModal(){var e;null===(e=document.body.querySelector(".modal"))||void 0===e||e.remove()}}t.Modal=a},392:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateUniqueId=t.logoSchool=void 0,t.logoSchool='<svg class="rsschool" width="80" height="29" viewBox="0 0 80 29" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path\n  d="M41.2862 9.10523L45.0447 8.86509C45.1304 9.4725 45.2876 9.92452 45.5449 10.2494C45.9593 10.7579 46.5309 11.0122 47.2883 11.0122C47.8457 11.0122 48.2887 10.8851 48.5888 10.6167C48.8746 10.4048 49.0461 10.0658 49.0461 9.71263C49.0461 9.37362 48.8889 9.04872 48.6174 8.83684C48.3316 8.58258 47.6599 8.32832 46.6024 8.1023C44.8732 7.72091 43.6299 7.21239 42.9011 6.56261C42.1722 5.9552 41.7578 5.06528 41.7864 4.11886C41.7864 3.46908 41.9864 2.8193 42.358 2.28253C42.7867 1.67512 43.3726 1.19485 44.0729 0.926463C44.8303 0.601572 45.8878 0.432064 47.2169 0.432064C48.8461 0.432064 50.0894 0.728703 50.9468 1.33611C51.8043 1.92939 52.3187 2.88993 52.4759 4.20362L48.7603 4.4155C48.6603 3.85048 48.4602 3.44083 48.1315 3.17244C47.8028 2.90406 47.3741 2.77693 46.8168 2.77693C46.3594 2.77693 46.0165 2.87581 45.7878 3.05944C45.5734 3.22895 45.4305 3.48321 45.4448 3.76572C45.4448 3.97761 45.5592 4.17537 45.7306 4.3025C45.9164 4.47201 46.3594 4.62739 47.0597 4.76865C48.7889 5.13591 50.0179 5.50318 50.7753 5.88457C51.5327 6.26597 52.0758 6.73211 52.4045 7.28301C52.7475 7.84804 52.919 8.49782 52.9047 9.16173C52.9047 9.95277 52.676 10.7438 52.2187 11.4077C51.7471 12.0999 51.0897 12.6366 50.318 12.9615C49.5034 13.3147 48.4745 13.4983 47.2455 13.4983C45.0733 13.4983 43.5727 13.0887 42.7296 12.2553C41.8864 11.4218 41.3862 10.3765 41.2862 9.10523ZM1.40033 13.2864V0.658075H7.98842C9.20315 0.658075 10.1463 0.756955 10.7894 0.96884C11.4182 1.1666 11.9756 1.57624 12.3471 2.12714C12.7616 2.73455 12.9616 3.44083 12.9474 4.17537C12.9902 5.41843 12.3471 6.60498 11.2467 7.22651C10.818 7.46665 10.3464 7.63616 9.86053 7.72091C10.2178 7.81979 10.5751 7.9893 10.8895 8.18706C11.1324 8.38482 11.3325 8.61083 11.5183 8.85096C11.7326 9.0911 11.9184 9.35949 12.0756 9.642L13.9906 13.3006H9.50326L7.38821 9.41599C7.11668 8.92159 6.88802 8.5967 6.67366 8.44132C6.38784 8.24356 6.04486 8.14468 5.70188 8.14468H5.3589V13.2723H1.40033V13.2864ZM5.3589 5.77157H7.03093C7.38821 5.74332 7.73119 5.68681 8.07417 5.60206C8.3314 5.55968 8.56006 5.41843 8.71726 5.20654C9.10311 4.69802 9.04595 3.97761 8.57435 3.53971C8.31711 3.32783 7.81693 3.21482 7.10239 3.21482H5.3589V5.77157ZM0.5 24.1067L4.2585 23.8666C4.34425 24.474 4.50145 24.926 4.75868 25.2509C5.15883 25.7594 5.74475 26.0278 6.50217 26.0278C7.05951 26.0278 7.50253 25.9007 7.80264 25.6323C8.08846 25.4063 8.25995 25.0814 8.25995 24.7282C8.25995 24.3892 8.10275 24.0643 7.83122 23.8524C7.5454 23.5982 6.87373 23.3439 5.80192 23.1179C4.07272 22.7365 2.82941 22.228 2.10058 21.5782C1.37174 20.9708 0.957308 20.0809 0.98589 19.1345C0.98589 18.4847 1.18596 17.8349 1.55753 17.2981C1.98625 16.6907 2.57218 16.2104 3.27243 15.9421C4.02985 15.6172 5.08737 15.4477 6.41643 15.4477C8.04559 15.4477 9.28889 15.7443 10.1463 16.3517C11.0038 16.9591 11.504 17.9055 11.6612 19.2192L7.94555 19.4311C7.84551 18.8661 7.64544 18.4564 7.31675 18.188C7.00235 17.9196 6.55933 17.7925 6.00199 17.8066C5.54468 17.8066 5.2017 17.9055 4.97305 18.1033C4.74439 18.2728 4.61577 18.527 4.63006 18.8096C4.63006 19.0214 4.74439 19.2192 4.91588 19.3463C5.10166 19.5158 5.54468 19.6712 6.24494 19.8125C7.97413 20.1798 9.20315 20.547 9.96056 20.9284C10.718 21.3098 11.261 21.776 11.5897 22.3269C11.9327 22.8919 12.1042 23.5417 12.1042 24.1914C12.1042 24.9825 11.8613 25.7594 11.4182 26.4233C10.9466 27.1155 10.2893 27.6522 9.51755 27.9771C8.70297 28.3303 7.67402 28.5139 6.44501 28.5139C4.27279 28.5139 2.77225 28.1043 1.92909 27.2708C1.08593 26.4233 0.614327 25.378 0.5 24.1067Z"\n  fill="rgb(193, 255, 6)"></path>\n<path\n  d="M19.5069 23.1178L22.9653 24.149C22.7795 25.0107 22.3937 25.83 21.8649 26.5504C21.379 27.186 20.7359 27.6804 20.0071 28.0053C19.264 28.3302 18.3208 28.4997 17.1775 28.4997C15.7913 28.4997 14.648 28.302 13.7763 27.9064C12.8902 27.5109 12.1328 26.8046 11.4897 25.8017C10.8466 24.7988 10.5322 23.5134 10.5322 21.9454C10.5322 19.8548 11.0896 18.2445 12.2185 17.1286C13.3475 16.0126 14.9338 15.4476 16.9917 15.4476C18.6066 15.4476 19.8642 15.7725 20.7931 16.4081C21.7077 17.0579 22.3937 18.0467 22.851 19.3745L19.364 20.1373C19.2782 19.8407 19.1496 19.544 18.9781 19.2898C18.7638 18.9931 18.4922 18.7671 18.1636 18.5976C17.8349 18.4281 17.4633 18.3575 17.0917 18.3575C16.1914 18.3575 15.5055 18.7106 15.0339 19.431C14.6766 19.9537 14.4908 20.7871 14.4908 21.9172C14.4908 23.3156 14.7052 24.2761 15.1339 24.7988C15.5626 25.3214 16.1628 25.5757 16.9488 25.5757C17.7062 25.5757 18.2779 25.3638 18.6637 24.9542C19.0496 24.5163 19.3354 23.9089 19.5069 23.1178ZM27.5813 15.6595H31.5255V20.0808H35.8414V15.6595H39.8143V28.2878H35.8414V23.1743H31.5255V28.2878H27.5813V15.6595Z"\n  fill="rgb(193, 255, 6)"></path>\n<path\n  d="M39.2712 21.9738C39.2712 19.9114 39.8571 18.3011 41.0147 17.1569C42.1722 16.0127 43.8014 15.4336 45.8736 15.4336C48.0029 15.4336 49.6321 15.9986 50.7896 17.1287C51.9472 18.2587 52.5188 19.8408 52.5188 21.8749C52.5188 23.3581 52.2616 24.5588 51.7614 25.5052C51.2755 26.4375 50.5181 27.2003 49.5892 27.7088C48.6317 28.2314 47.4456 28.4998 46.0308 28.4998C44.5874 28.4998 43.4013 28.2738 42.4581 27.8218C41.4863 27.3415 40.686 26.5929 40.1572 25.6747C39.5713 24.6859 39.2712 23.457 39.2712 21.9738ZM43.2155 21.9879C43.2155 23.2592 43.4584 24.1774 43.93 24.7424C44.4016 25.2933 45.059 25.5758 45.8879 25.5758C46.731 25.5758 47.3884 25.3074 47.86 24.7565C48.3316 24.2056 48.5603 23.231 48.5603 21.8184C48.5603 20.6318 48.3173 19.756 47.8314 19.2193C47.3455 18.6684 46.6882 18.4 45.8593 18.4C45.1305 18.3717 44.4302 18.6825 43.9443 19.2334C43.4584 19.7843 43.2155 20.7025 43.2155 21.9879ZM56.5632 21.9738C56.5632 19.9114 57.1491 18.3011 58.3067 17.1569C59.4642 16.0127 61.0934 15.4336 63.1656 15.4336C65.2949 15.4336 66.9383 15.9986 68.0816 17.1287C69.2249 18.2587 69.8108 19.8408 69.8108 21.8749C69.8108 23.3581 69.5536 24.5588 69.0534 25.5052C68.5675 26.4375 67.8101 27.2003 66.8812 27.7088C65.9237 28.2314 64.7376 28.4998 63.3228 28.4998C61.8794 28.4998 60.6932 28.2738 59.75 27.8218C58.7782 27.3415 57.978 26.5929 57.4492 25.6747C56.8633 24.6859 56.5632 23.457 56.5632 21.9738ZM60.5074 21.9879C60.5074 23.2592 60.7504 24.1774 61.222 24.7424C61.6936 25.2933 62.351 25.5758 63.1798 25.5758C64.023 25.5758 64.6804 25.3074 65.152 24.7565C65.6236 24.2056 65.8522 23.231 65.8522 21.8184C65.8522 20.6318 65.6093 19.756 65.1234 19.2193C64.6375 18.6684 63.9801 18.4 63.1513 18.4C62.4224 18.3717 61.7079 18.6825 61.2363 19.2334C60.7504 19.7843 60.5074 20.7025 60.5074 21.9879Z"\n  fill="rgb(193, 255, 6)"></path>\n<path d="M73.3407 15.6594V25.1802H79.5V28.2878H69.3821V15.6594H73.3407Z" fill="rgb(193, 255, 6)"></path>\n<path fill-rule="evenodd" clip-rule="evenodd"\n  d="M56.7449 4.03879C53.0602 6.78342 52.187 11.1981 54.2055 13.8456C56.2239 16.4931 60.7579 16.8802 64.4426 14.1355C68.1273 11.3909 69.0004 6.97625 66.982 4.32874C64.9635 1.68124 60.4296 1.29416 56.7449 4.03879ZM52.6015 15.0403C49.699 11.2331 51.2749 5.6195 55.5323 2.4483C59.7897 -0.722899 65.6834 -0.673156 68.5859 3.13402C71.4885 6.94119 69.9125 12.5548 65.6552 15.726C61.3978 18.8972 55.5041 18.8475 52.6015 15.0403Z"\n  fill="rgb(193, 255, 6)"></path>\n<path\n  d="M56.5774 8.15874L58.0065 7.16995L59.7643 9.64194C60.0644 10.0375 60.2931 10.4612 60.4646 10.9274C60.5646 11.2805 60.536 11.6619 60.3931 12.0009C60.2073 12.4247 59.9072 12.7778 59.5071 13.0321C59.0355 13.357 58.6353 13.5406 58.2924 13.5971C57.9637 13.6536 57.6207 13.5971 57.3063 13.4559C56.9633 13.2864 56.6632 13.0462 56.4345 12.7355L57.6636 11.6054C57.7636 11.7608 57.8922 11.902 58.0351 12.015C58.1352 12.0857 58.2495 12.1281 58.3781 12.1281C58.4781 12.1281 58.5782 12.0857 58.6496 12.0292C58.7925 11.9444 58.8926 11.7749 58.8783 11.6054C58.8354 11.3653 58.7354 11.1251 58.5782 10.9415L56.5774 8.15874ZM60.8647 9.72669L62.1652 8.70964C62.3081 8.87915 62.4939 9.00628 62.6939 9.07691C62.9798 9.16166 63.2799 9.10516 63.5228 8.92153C63.6943 8.80852 63.8372 8.65314 63.8944 8.45538C63.9801 8.20112 63.8372 7.91861 63.58 7.83385C63.5371 7.81973 63.4942 7.8056 63.4514 7.8056C63.2799 7.79148 62.9798 7.8621 62.5367 8.04574C61.8079 8.34238 61.2363 8.45538 60.8075 8.413C60.3931 8.37063 60.0073 8.15874 59.7786 7.8056C59.6071 7.56546 59.5214 7.28295 59.5071 7.00044C59.5071 6.67555 59.5928 6.35066 59.7786 6.08227C60.0501 5.70088 60.3788 5.37599 60.779 5.12172C61.3792 4.71208 61.9079 4.51432 62.3652 4.51432C62.8226 4.51432 63.2513 4.7262 63.6514 5.1641L62.3652 6.16702C62.108 5.84213 61.6221 5.7715 61.2934 6.02577L61.2506 6.06814C61.1077 6.1529 61.0076 6.28003 60.9505 6.43541C60.9076 6.54842 60.9362 6.67555 61.0076 6.77443C61.0648 6.84506 61.1505 6.90156 61.2506 6.90156C61.3649 6.91568 61.565 6.85918 61.8508 6.73205C62.5653 6.43541 63.1084 6.2659 63.4799 6.2094C63.7943 6.1529 64.123 6.18115 64.4231 6.30828C64.6947 6.42129 64.9233 6.61904 65.0805 6.85918C65.2806 7.14169 65.3949 7.48071 65.4092 7.83385C65.4235 8.20112 65.3235 8.55426 65.1234 8.86503C64.8662 9.24642 64.5375 9.57131 64.1516 9.82557C63.3656 10.3623 62.7225 10.5884 62.208 10.5036C61.6507 10.4188 61.1934 10.1363 60.8647 9.72669Z"\n  fill="rgb(193, 255, 6)"></path>\n</svg>',t.generateUniqueId=(e=8)=>{let t="";for(let n=0;n<e;n+=1)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t}},804:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0,t.View=class{constructor({tagName:e="div",classes:t=[],content:n="",parentElement:s}){const o=document.createElement(e);o.classList.add(...t),o.textContent=n,s&&(this.parentNode=s),this.node=o}}},912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutPage=void 0;const s=n(393),o=n(804),a=n(610);n(500);class i extends o.View{constructor(e){super({classes:["about-page"]}),this.buttonBack=new s.Button({classes:["about-page__button"],parentElement:this.node,content:"Go Back"}),this.buttonBack.button.onclick=()=>e(a.state.prevPage),this.render()}render(){const e=new o.View({classes:["about-page-wrapper"],parentElement:this.node}),t=new o.View({classes:["about-page__title"],parentElement:this.node,tagName:"h3",content:"The application was developed for the task of Fun Chat as part of the course RSSchool JS/FE 2023Q3"}),n=new o.View({tagName:"p",classes:["about-page__text"],parentElement:this.node,content:"If you like the app, I will be glad of feedback!"}),s=new o.View({tagName:"a",classes:["about-page__name"],content:"Danila K.",parentElement:this.node});s.node.setAttribute("href","https://github.com/FroZe36"),s.node.setAttribute("target","_blank");const a=new o.View({content:"2024",classes:["about-page__year"],tagName:"span",parentElement:this.node});e.node.append(s.node,a.node),this.node.append(t.node,n.node,e.node,this.buttonBack.button)}}t.AboutPage=i},76:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const s=n(804),o=n(912),a=n(100),i=n(328),r=n(555),d=n(610),l=n(910),c=n(990);t.App=class{enableRouteChange(){window.addEventListener("hashchange",(()=>{const{hash:e}=window.location;e===this.hashPages[1]?this.setView(1):e!==this.hashPages[0]||d.state.isLogin?e===this.hashPages[2]&&d.state.isLogin?this.setView(2):this.setView(d.state.activePage):this.setView(0)}))}constructor(){this.hashPages=["#auth","#about","#chat"],this.root=new s.View({classes:["root","container"]}),this.authPage=new a.AuthPage(this.changeLocation.bind(this)),this.aboutPage=new o.AboutPage(this.changeLocation.bind(this)),this.chatPage=new i.ChatPage(this.changeLocation.bind(this)),l.eventEmitter.on("auth/logIn",(e=>{const t=e;this.logIn(t)})),l.eventEmitter.on("auth/logOut",(e=>{const t=e;this.logOut(t)})),l.eventEmitter.on("error",(e=>{const t=e;new c.Modal(t.payload.error).render()})),r.pages.push(this.authPage,this.aboutPage,this.chatPage),this.setView(0)}render(){document.body.append(this.root.node),this.enableRouteChange()}setView(e){this.root.node&&(this.root.node.innerHTML="");const t=d.state.activePage;d.state.prevPage=0!==e?t:null,d.state.activePage=e,window.location.hash=this.hashPages[e],this.currentPage=r.pages[e].node,this.root.node.append(this.currentPage)}changeLocation(e){window.location.hash=this.hashPages[e]}logIn(e){const t={id:e.id,login:e.payload.user.login,isLogined:e.payload.user.isLogined},n=JSON.parse(sessionStorage.getItem("user")||"{}");n.isLogined=t.isLogined,sessionStorage.setItem("user",JSON.stringify(n)),this.chatPage.chat.lsUser=n,d.state.isLogin=t.isLogined,d.state.id=t.id,this.changeLocation(2)}logOut(e){const t={id:e.id,login:e.payload.user.login,isLogined:e.payload.user.isLogined};sessionStorage.removeItem("user"),d.state.isLogin=t.isLogined,d.state.id=t.id,this.changeLocation(0)}}},100:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthPage=void 0;const s=n(393),o=n(817),a=n(392),i=n(804),r=n(300);n(112);class d extends i.View{constructor(e){super({classes:["auth-page"]}),this.wrapperName=new i.View({classes:["auth__page-container"]}),this.wrapperPassword=new i.View({classes:["auth__page-container"]}),this.errorMessages={nameErrorCapitalLetter:new i.View({tagName:"span",content:"Use lowercase and capital letters",classes:["error"]}),nameErrorTooShort:new i.View({tagName:"span",content:"Name must be more than 6 characters",classes:["error"]}),passwordErrorCapitalLetter:new i.View({tagName:"span",content:"Use lowercase and capital letters",classes:["error"]}),passwordErrorTooShort:new i.View({tagName:"span",content:"Password must be more than 6 characters",classes:["error"]})},this.isNameValid=!1,this.isPasswordValid=!1,this.inputName=new o.Input({parentElement:this.node,classes:[]}),this.inputName.node.id="nameInput",this.inputName.node.required=!0,this.inputName.node.maxLength=10,this.inputPassword=new o.Input({parentElement:this.node,classes:[],type:"password"}),this.inputPassword.node.required=!0,this.inputPassword.node.id="passwordInput",this.buttonSubmit=new s.Button({parentElement:this.node,classes:["auth-page__btn","auth-page__btn_submit"],content:"Log In"}),this.buttonSubmit.button.type="submit",this.buttonSubmit.button.disabled=!0,this.buttonAbout=new s.Button({parentElement:this.node,classes:["auth-page__btn","auth-page__btn_about"],content:"About"}),this.buttonAbout.button.onclick=()=>e(1),this.render()}render(){this.createForm()}createForm(){const e=new i.View({tagName:"form",classes:["auth-page__form"],parentElement:this.node});e.node.addEventListener("submit",this.onSubmit.bind(this)),e.node.oninput=e=>this.setValidate(e);const t=document.createElement("label");t.textContent="Name",t.htmlFor="nameInput",this.wrapperName.node.append(this.inputName.node),t.append(this.wrapperName.node);const n=document.createElement("label");n.htmlFor="passwordInput",n.textContent="Password",this.wrapperPassword.node.append(this.inputPassword.node),n.append(this.wrapperPassword.node),e.node.append(t,n,this.buttonSubmit.button),this.node.append(e.node,this.buttonAbout.button)}setValidate(e){if(e.target instanceof HTMLInputElement){if("nameInput"===e.target.id){const t=this.checkCapitalLetter(e.target,this.errorMessages.nameErrorCapitalLetter),n=this.checkTooShort(e.target,this.errorMessages.nameErrorTooShort);this.isNameValid=!(!t||!n)}else if("passwordInput"===e.target.id){const t=this.checkCapitalLetter(e.target,this.errorMessages.passwordErrorCapitalLetter),n=this.checkTooShort(e.target,this.errorMessages.passwordErrorTooShort);this.isPasswordValid=!(!t||!n)}this.isNameValid&&this.isPasswordValid?this.buttonSubmit.button.disabled=!1:this.buttonSubmit.button.disabled=!0}}checkCapitalLetter(e,t){const{value:n}=e,{parentElement:s}=e,o=/[A-Z]+/.test(n);return s&&(o?s.contains(t.node)&&s.removeChild(t.node):s.contains(t.node)||s.appendChild(t.node)),o}checkTooShort(e,t){const{value:n}=e,{parentElement:s}=e,o=n.length>6;return s&&(o?s.contains(t.node)&&s.removeChild(t.node):s.contains(t.node)||s.appendChild(t.node)),o}checkTooLong(e,t){const{value:n}=e,{parentElement:s}=e,o=n.length>=11;return s&&(o?s.contains(t.node)&&s.removeChild(t.node):s.contains(t.node)||s.appendChild(t.node)),o}onSubmit(e){var t,n;e.preventDefault();const s={id:(0,a.generateUniqueId)(),type:"USER_LOGIN",payload:{user:{login:this.inputName.node.value,password:this.inputPassword.node.value}}};r.socket.sendMsg(s),sessionStorage.setItem("user",JSON.stringify({id:s.id,login:null===(t=s.payload)||void 0===t?void 0:t.user.login,password:null===(n=s.payload)||void 0===n?void 0:n.user.password,isLogined:!1})),this.inputName.node.value="",this.inputPassword.node.value="",this.buttonSubmit.button.disabled=!0}}t.AuthPage=d},328:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatPage=void 0;const s=n(804),o=n(703);n(588);const a=n(396),i=n(736),r=n(645);class d extends s.View{constructor(e){super({classes:["chat"],tagName:"main"}),this.wrapperSection=new s.View({classes:["wrapper"]}),this.header=new o.Header(this.node,e),this.users=new a.Users(this.node,this.handleClickFromUsersList.bind(this)),this.chat=new i.Chat(this.node),this.footer=new r.Footer(this.node),this.render()}render(){this.wrapperSection.node.append(this.users.node,this.chat.node),this.node.append(this.header.node,this.wrapperSection.node,this.footer.node)}handleClickFromUsersList(e){this.chat.setUserFromUserList(e)}}t.ChatPage=d},736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const s=n(300),o=n(910),a=n(393),i=n(817),r=n(804),d=n(159);class l extends r.View{constructor(e){super({parentElement:e,classes:["chat__dialog-container","dialog-container"]}),this.dialogIsOpen=!1,this.dialog=new r.View({classes:["dialog-container__content"],parentElement:this.node}),this.dialog.node.style.scrollBehavior="smooth",this.header=new r.View({classes:["dialog-container__header"],parentElement:this.node}),this.messageInput=new i.Input({classes:["dialog-container__message-input"],parentElement:this.node}),this.messageInput.node.placeholder="Write a message...",this.messageInput.node.disabled=!0,this.buttonSend=new a.Button({classes:["dialog-container__button-send"],parentElement:this.node,content:"Send"}),this.buttonSend.button.disabled=!0,this.buttonSend.button.type="submit",this.emptyTextMessageDialog=new r.View({tagName:"span",classes:["dialog-container__content_text"],content:"Select the user to send the message...",parentElement:this.node}),this.user=null,this.lsUser=null,o.eventEmitter.on("send/MessageTo",(e=>{const t=e;this.createMessage(t.payload.message)})),o.eventEmitter.on("history/UserMessages",(e=>{const t=e;this.getHistoryMessages(t.payload.messages)})),this.render()}render(){this.dialog.node.append(this.emptyTextMessageDialog.node),this.node.append(this.header.node,this.dialog.node),this.createFormSendMessage()}createFormSendMessage(){const e=new r.View({tagName:"form",classes:["dialog-container__form"],parentElement:this.node});e.node.addEventListener("submit",this.sendMsgToUser.bind(this)),e.node.oninput=e=>this.setValidate(e),e.node.append(this.messageInput.node,this.buttonSend.button),this.node.append(e.node)}setUserFromUserList(e){var t,n,o;if(this.header.node.innerHTML="","none"===this.emptyTextMessageDialog.node.style.display)for(;this.dialog.node.querySelector(".message");)null===(t=this.dialog.node.querySelector(".message"))||void 0===t||t.remove();this.dialog.node.querySelector(".new-message-separator")&&(null===(n=this.dialog.node.querySelector(".new-message-separator"))||void 0===n||n.remove());const a=new r.View({tagName:"span",classes:["dialog-container__recipient-name"]}),i=new r.View({tagName:"li",classes:["dialog-container__recipient-status"]});a.node.textContent=e.login,i.node.textContent=e.isLogined?"Online":"Offline",i.node.classList.add(e.isLogined?"active":"inactive"),this.header.node.append(a.node,i.node),this.user=e;const d={id:null===(o=this.lsUser)||void 0===o?void 0:o.id,type:"MSG_FROM_USER",payload:{user:{login:e.login}}};s.socket.sendMsg(d),this.messageInput.node.disabled=!1,this.messageInput.node.value="",this.dialogIsOpen||(this.dialogIsOpen=!0)}setValidate(e){e.target instanceof HTMLInputElement&&(""!==e.target.value.trim()?this.buttonSend.button.disabled=!1:this.buttonSend.button.disabled=!0)}getHistoryMessages(e){var t;if(e.length){this.emptyTextMessageDialog.node.style.display="none",this.dialog.node.style.justifyContent="flex-start",e.forEach((e=>this.createMessage(e)));const n=e.findIndex((e=>!e.status.isReaded)),s=e.find((e=>!e.status.isReaded));if((null==s?void 0:s.from)!==(null===(t=this.lsUser)||void 0===t?void 0:t.login)){const e=new r.View({classes:["new-message-separator"],parentElement:this.node});e.node.innerHTML="<span>New Messages</span>";const t=this.dialog.node.querySelectorAll(".message")[n];this.dialog.node.insertBefore(e.node,t),e.node.scrollIntoView(!0)}}else this.dialog.node.style.justifyContent="center",this.emptyTextMessageDialog.node.style.display="inline",this.emptyTextMessageDialog.node.textContent="Write your first message..."}sendMsgToUser(e){var t,n,o;e.preventDefault();const a={id:null===(t=this.lsUser)||void 0===t?void 0:t.id,type:"MSG_SEND",payload:{message:{to:(null===(n=this.user)||void 0===n?void 0:n.login)||"",text:this.messageInput.node.value}}};console.log("abs"),a.id&&(null===(o=a.payload)||void 0===o?void 0:o.message.to)&&(s.socket.sendMsg(a),this.messageInput.node.value="",this.buttonSend.button.disabled=!0)}createMessage(e){if(this.dialogIsOpen){"inline"===this.emptyTextMessageDialog.node.style.display&&(this.emptyTextMessageDialog.node.style.display="none",this.dialog.node.style.justifyContent="flex-start");const t=new d.Message(this.node,e,{user:this.user,lsUser:this.lsUser});console.log(t),this.dialog.node.append(t.node),this.dialog.node.scrollTop=this.dialog.node.scrollHeight}}}t.Chat=l},645:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;const s=n(804),o=n(392);class a extends s.View{constructor(e){super({parentElement:e,classes:["chat__footer","footer"]}),this.render()}render(){const e=new s.View({tagName:"a",classes:["footer__logo"],parentElement:this.node});e.node.innerHTML=`${o.logoSchool}`,e.node.setAttribute("href","https://rs.school/courses/javascript-mentoring-program"),e.node.setAttribute("target","_blank");const t=new s.View({tagName:"a",classes:["footer__name"],content:"Danila K.",parentElement:this.node});t.node.setAttribute("href","https://github.com/FroZe36"),t.node.setAttribute("target","_blank");const n=new s.View({content:"2024",classes:["footer__year"],tagName:"span",parentElement:this.node});this.node.append(e.node,t.node,n.node)}}t.Footer=a},703:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const s=n(300),o=n(910),a=n(393),i=n(804);class r extends i.View{constructor(e,t){super({tagName:"header",classes:["chat__header","header"],parentElement:e}),this.userName=new i.View({tagName:"h2",classes:["header__user-name"],parentElement:this.node}),o.eventEmitter.on("auth/logIn",(e=>{const t=e;this.userName.node.textContent=`User: ${t.payload.user.login}`})),this.callback=t,this.render()}render(){const e=new i.View({classes:["header__wrapper"]}),t=new i.View({tagName:"h2",classes:["header__title"],content:"FunChat",parentElement:this.node}),n=new a.Button({classes:["header__btn","header__btn_about"],content:"About",parentElement:this.node});n.button.onclick=()=>this.callback(1);const s=new a.Button({classes:["header__btn","header__btn_logout"],content:"Log Out",parentElement:this.node});s.button.onclick=this.LogOut,e.node.append(n.button,s.button),this.node.append(this.userName.node,t.node,e.node)}LogOut(){const e=JSON.parse(sessionStorage.getItem("user")||"{}"),t={id:e.id,type:"USER_LOGOUT",payload:{user:{login:e.login,password:e.password||""}}};s.socket.sendMsg(t)}}t.Header=r},159:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;const s=n(804);class o extends s.View{constructor(e,t,n){super({parentElement:e,classes:["message"]}),this.header=new s.View({classes:["message-header"]}),this.user=new s.View({tagName:"span",classes:["message-header__user"],parentElement:this.node}),this.dateElement=new s.View({tagName:"span",classes:["message-header__date"],parentElement:this.node}),this.textMsg=new s.View({classes:["message__text"],parentElement:this.node}),this.stateMsg=new s.View({classes:["message__state"],parentElement:this.node}),this.newUser=n.user,this.lsUser=n.lsUser,this.data=t,this.render()}render(){this.setUser(),this.setDate(),this.setText(),this.setState(),this.header.node.append(this.user.node,this.dateElement.node),this.node.append(this.header.node,this.textMsg.node,this.stateMsg.node)}setUser(){var e,t;this.user.node.textContent=(null===(e=this.lsUser)||void 0===e?void 0:e.login)===this.data.from?"You":this.data.from,(null===(t=this.lsUser)||void 0===t?void 0:t.login)===this.data.from?this.node.style.alignSelf="flex-end":this.node.style.alignSelf="flex-start"}setState(){var e,t,n;const{isDelivered:s,isEdited:o,isReaded:a}=this.data.status;o?this.stateMsg.node.textContent="changed":a&&(null===(e=this.lsUser)||void 0===e?void 0:e.login)===this.data.from?this.stateMsg.node.textContent="read":s&&(null===(t=this.lsUser)||void 0===t?void 0:t.login)===this.data.from?this.stateMsg.node.textContent="delivered":a||s||(null===(n=this.lsUser)||void 0===n?void 0:n.login)!==this.data.from?this.stateMsg.node.textContent="":this.stateMsg.node.textContent="sent"}setText(){this.textMsg.node.textContent=this.data.text}setDate(){const{year:e,month:t,day:n,seconds:s,minutes:o,hours:a}=this.transformDate(this.data.datetime);this.dateElement.node.textContent=`${n}.${t}.${e}, ${a}:${o}:${s}`}transformDate(e){const t=new Date(e);return{year:t.getFullYear(),month:String(t.getMonth()+1).padStart(2,"0"),day:String(t.getDate()).padStart(2,"0"),hours:String(t.getHours()).padStart(2,"0"),minutes:String(t.getMinutes()).padStart(2,"0"),seconds:String(t.getSeconds()).padStart(2,"0")}}}t.Message=o},396:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Users=void 0;const s=n(300),o=n(910),a=n(817),i=n(804);class r extends i.View{constructor(e,t){super({classes:["chat__users","users"],parentElement:e}),this.users=[],this.searchInput=new a.Input({parentElement:this.node,classes:["users__search-input"]}),this.searchInput.node.addEventListener("input",(()=>this.inputFilter())),this.searchInput.node.placeholder="Search...",this.usersContainer=new i.View({tagName:"ul",classes:["users__list"],parentElement:this.node}),this.handleClickFromUsersList=t,o.eventEmitter.on("auth/logIn",(e=>{const t=e;this.getUser(t)})),o.eventEmitter.on("get/UserActive",(e=>{const t=e;this.getResponseAllUsersFromServer(t)})),o.eventEmitter.on("get/UserInActive",(e=>{const t=e;this.getResponseAllUsersFromServer(t)})),o.eventEmitter.on("server/UserLogIn",(e=>{const t=e;this.getResponseUserFromServer(t)})),o.eventEmitter.on("server/UserLogOut",(e=>{const t=e;this.getResponseUserFromServer(t)})),o.eventEmitter.on("auth/logOut",(()=>{this.users=[]})),this.render()}render(){this.node.append(this.searchInput.node,this.usersContainer.node)}getUser(e){const t={id:e.id,type:"USER_ACTIVE",payload:null},n={id:e.id,type:"USER_INACTIVE",payload:null};s.socket.sendMsg(t),s.socket.sendMsg(n)}getResponseAllUsersFromServer(e){this.users=[...this.users,...e.payload.users],this.addUsers()}getResponseUserFromServer(e){const{login:t,isLogined:n}=e.payload.user,s=this.users.findIndex((e=>e.login===t));-1!==s?this.users[s].isLogined=n:this.users.push({login:t,isLogined:n}),this.addUsers()}addUsers(){const e=JSON.parse(sessionStorage.getItem("user")||"{}");this.usersContainer.node.innerHTML="",this.users.filter((({login:t})=>t!==e.login)).sort(((e,t)=>e.isLogined&&!t.isLogined?-1:t.isLogined&&!e.isLogined?1:0)).forEach((e=>{const t=new i.View({tagName:"li",classes:["users__list-element",e.isLogined?"users__list-element_active":"users__list-element_inactive"],parentElement:this.node,content:e.login});t.node.onclick=t=>{const{target:n}=t;n instanceof HTMLElement&&this.handleClickFromUsersList(e)},this.usersContainer.node.append(t.node)}))}inputFilter(){const e=this.searchInput.node.value.toLowerCase();Array.from(this.usersContainer.node.getElementsByTagName("li")).forEach((t=>{var n;const s=null===(n=t.textContent)||void 0===n?void 0:n.toLowerCase(),o=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=t;new RegExp(`^${o}`,"i").test(s)?a.style.display="list-item":a.style.display="none"}))}}t.Users=r},555:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pages=void 0,t.pages=[]},610:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0,t.state={prevPage:null,isLogin:!1,id:null,activePage:0}}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={id:s,exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{const e=n(76);n(511),(new e.App).render()})()})();